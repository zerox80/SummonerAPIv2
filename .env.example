# Copy this file to `.env` and fill in your values.

# Riot API
RIOT_API_KEY=YOUR_RIOT_API_KEY
RIOT_API_REGION=euw1
RIOT_API_COMMUNITY_DRAGON_URL=https://raw.communitydragon.org/latest/plugins/rcp-be-lol-game-data/global/default/v1/profile-icons
RIOT_API_MAX_CONCURRENT=15

# Database (the defaults match docker-compose.yml)
SPRING_DATASOURCE_URL=jdbc:postgresql://db:5432/summoner_db
SPRING_DATASOURCE_USERNAME=postgres
SPRING_DATASOURCE_PASSWORD=postgres

# Host port for the app (host:container)
APP_HTTP_PORT=8081

# Spring profile (set to 'prod' to enable production hardening in application-prod.properties)
SPRING_PROFILES_ACTIVE=

# App (User-Agent for outbound HTTP requests)
APP_USER_AGENT=SummonerAPI/2.0 (github.com/zerox80/SummonerAPI)

# Data Dragon default locale when no request locale is present
DDRAGON_DEFAULT_LOCALE=de_DE

# Rate limiting (maps to Spring properties rate.limit.*)
# Enable/disable limiter
RATE_LIMIT_ENABLED=true
# Window size in milliseconds
RATE_LIMIT_WINDOW_MS=60000
# Requests allowed per window per IP
RATE_LIMIT_MAX_REQUESTS=60
# Ant-style path patterns (comma-separated)
RATE_LIMIT_PATHS=/api/**,/search
# Trust proxy headers (Forwarded/X-Forwarded-For) for client IP resolution, e.g., behind NGINX/Ingress
RATE_LIMIT_TRUST_PROXY=false
# Include X-RateLimit-* headers in responses
RATE_LIMIT_INCLUDE_HEADERS=true
# Maximum distinct client IP windows stored in memory
RATE_LIMIT_CACHE_MAX_IPS=100000
# Comma-separated allowlist of proxy IPs; only when remote address is in this list are X-Forwarded-For/Forwarded trusted
RATE_LIMIT_ALLOWED_PROXIES=

# Champion Build Aggregation
# Enable scheduler and configure aggregation parameters
BUILD_AGG_ENABLED=false
BUILD_AGG_QUEUE_ID=420
BUILD_AGG_PAGES=1
BUILD_AGG_MATCHES_PER_SUMMONER=6
BUILD_AGG_MAX_SUMMONERS=50
# Comma-separated champion IDs (e.g., Ahri,Anivia). Leave empty to disable scheduled runs.
BUILD_AGG_CHAMPIONS=
# Nightly cron in UTC (default: 03:15)
BUILD_AGG_CRON=0 15 3 * * *
# Allow manual POST trigger on /api/champions/{id}/aggregate
BUILD_AGG_TRIGGER_ENABLED=false

# UI / Match history pagination safeguards
UI_MATCHES_PAGE_SIZE=10
UI_MATCHES_MAX_PAGE_SIZE=40
UI_MATCHES_MAX_START_OFFSET=1000
